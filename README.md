# Java 中国象棋 (Xiangqi) 项目 - AI 增强版

本项目采用 **客户端/服务器 (Client/Server)** 架构，实现了核心游戏逻辑、**优化后的 AI (Alpha-Beta 剪枝)**，并通过 WebSocket 实现了基础的双人在线对战功能。

## 📍 当前状态 (AI V3 / GUI V5)

项目已具备一个功能完整且流程清晰的结构：
* **核心引擎 (`xiangqi-core`):** 包含所有象棋规则和 **V3 版优化 AI**。
* **图形客户端 (`xiangqi-client`):** 拥有欢迎菜单、模式选择，支持人机对战和联网对战。

### 已实现的核心功能

* **后端/AI 核心:**
    * [✓] 所有棋子规则 (车, 马, 炮, 将, 士, 象, 兵)
    * [✓] 游戏状态判断 (将军, 将死, 逼和)
    * [✓] **Minimax 算法 (已优化):** 整合 **Alpha-Beta 剪枝**，显著提升搜索效率。
    * [✓] **稳定深度:** AI 设置在 **深度 4**，提供快速且有挑战性的对局。
    * [✓] WebSocket 服务端 (Spring Boot): 角色分配、走法解析、状态广播。
* **前端 GUI (JavaFX):**
    * [✓] **完整导航流程:** 欢迎界面 -> 模式选择 -> 游戏棋盘。
    * [✓] **人机对战模式** (Human vs AI)：在后台线程运行 AI，界面保持响应。
    * [✓] **联网对战模式** (2-Player Online)：基于 WebSocket 的实时同步。
    * [✓] 棋盘绘制精确，棋子定位准确 (圆形+文字)。
    * [✓] 棋子移动带有平滑动画。
    * [✓] 鼠标点击选中、合法走法提示。

---

## 🛠️ 技术栈

* **语言：** Java 17
* **构建：** Maven (多模块: `parent`, `core`, `client`, `server`)
* **后端：** Spring Boot (Web, WebSocket)
* **GUI：** JavaFX 17+
* **算法：** Alpha-Beta Pruning (Minimax)
* **通信协议：** WebSocket + JSON (Jackson)

---

## 🚀 如何运行 (人机/联网)

1.  **构建所有模块:**
    * 在项目根目录 (`xiangQi/`) 运行：
        ```bash
        mvn clean install
        ```
2.  **启动服务器 (联网对战必需):**
    * 在项目根目录运行：
        ```bash
        mvn -pl xiangqi-server spring-boot:run
        ```
3.  **启动客户端:**
    * 确保 X Server 运行并设置 `DISPLAY`。
    * 运行：
        ```bash
        mvn -pl xiangqi-client javafx:run
        ```
4.  在菜单中选择 **"人机对战"** 或 **"联网对战"** 开始游戏。

---

## 🗺️ 未来项目蓝图 (Roadmap)

* **[ ✓ ] 核心逻辑与 AI:** (已完成)
* **[ 待办 ] GUI 视觉升级:**
    * [ ] **棋子图片:** 用高质量 PNG 图片替换圆形和文字。
    * [ ] 美化高亮和提示效果。
* **[ 待办 ] 网络功能增强:**
    * [ ] 玩家房间/匹配系统。
    * [ ] 断线重连机制。
    * [ ] 聊天功能。
* **[ 远期 ] 3D 界面探索** (F1)